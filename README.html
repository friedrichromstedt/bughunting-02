<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.16: http://docutils.sourceforge.net/" />
<title>Hunting Down a Bug related to ImageTk in Python on Cygwin</title>
<meta name="author" content="Friedrich Romstedt" />
<meta name="date" content="August 2021, last revised in October 2021" />
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
<style type="text/css">

pre.code, code { background-color: #eeeeee; }

pre.code > .hll, code > .hll { background-color: #ffffcc }
pre.code > .c, code > .c { color: #888888; font-style: italic } /* Comment */
pre.code > .err, code > .err { background-color: #a848a8 } /* Error */
pre.code > .k, code > .k { color: #2838b0 } /* Keyword */
pre.code > .o, code > .o { color: #666666 } /* Operator */
pre.code > .p, code > .p { color: #888888 } /* Punctuation */
pre.code > .ch, code > .ch { color: #287088; font-style: italic } /* Comment.Hashbang */
pre.code > .cm, code > .cm { color: #888888; font-style: italic } /* Comment.Multiline */
pre.code > .cp, code > .cp { color: #289870 } /* Comment.Preproc */
pre.code > .cpf, code > .cpf { color: #888888; font-style: italic } /* Comment.PreprocFile */
pre.code > .c1, code > .c1 { color: #888888; font-style: italic } /* Comment.Single */
pre.code > .cs, code > .cs { color: #888888; font-style: italic } /* Comment.Special */
pre.code > .gd, code > .gd { color: #c02828 } /* Generic.Deleted */
pre.code > .ge, code > .ge { font-style: italic } /* Generic.Emph */
pre.code > .gr, code > .gr { color: #c02828 } /* Generic.Error */
pre.code > .gh, code > .gh { color: #666666 } /* Generic.Heading */
pre.code > .gi, code > .gi { color: #388038 } /* Generic.Inserted */
pre.code > .go, code > .go { color: #666666 } /* Generic.Output */
pre.code > .gp, code > .gp { color: #444444 } /* Generic.Prompt */
pre.code > .gs, code > .gs { font-weight: bold } /* Generic.Strong */
pre.code > .gu, code > .gu { color: #444444 } /* Generic.Subheading */
pre.code > .gt, code > .gt { color: #2838b0 } /* Generic.Traceback */
pre.code > .kc, code > .kc { color: #444444; font-style: italic } /* Keyword.Constant */
pre.code > .kd, code > .kd { color: #2838b0; font-style: italic } /* Keyword.Declaration */
pre.code > .kn, code > .kn { color: #2838b0 } /* Keyword.Namespace */
pre.code > .kp, code > .kp { color: #2838b0 } /* Keyword.Pseudo */
pre.code > .kr, code > .kr { color: #2838b0 } /* Keyword.Reserved */
pre.code > .kt, code > .kt { color: #2838b0; font-style: italic } /* Keyword.Type */
pre.code > .m, code > .m { color: #444444 } /* Literal.Number */
pre.code > .s, code > .s { color: #b83838 } /* Literal.String */
pre.code > .na, code > .na { color: #388038 } /* Name.Attribute */
pre.code > .nb, code > .nb { color: #388038 } /* Name.Builtin */
pre.code > .nc, code > .nc { color: #287088 } /* Name.Class */
pre.code > .no, code > .no { color: #b85820 } /* Name.Constant */
pre.code > .nd, code > .nd { color: #287088 } /* Name.Decorator */
pre.code > .ni, code > .ni { color: #709030 } /* Name.Entity */
pre.code > .ne, code > .ne { color: #908828 } /* Name.Exception */
pre.code > .nf, code > .nf { color: #785840 } /* Name.Function */
pre.code > .nl, code > .nl { color: #289870 } /* Name.Label */
pre.code > .nn, code > .nn { color: #289870 } /* Name.Namespace */
pre.code > .nt, code > .nt { color: #2838b0 } /* Name.Tag */
pre.code > .nv, code > .nv { color: #b04040 } /* Name.Variable */
pre.code > .ow, code > .ow { color: #a848a8 } /* Operator.Word */
pre.code > .w, code > .w { color: #a89028 } /* Text.Whitespace */
pre.code > .mb, code > .mb { color: #444444 } /* Literal.Number.Bin */
pre.code > .mf, code > .mf { color: #444444 } /* Literal.Number.Float */
pre.code > .mh, code > .mh { color: #444444 } /* Literal.Number.Hex */
pre.code > .mi, code > .mi { color: #444444 } /* Literal.Number.Integer */
pre.code > .mo, code > .mo { color: #444444 } /* Literal.Number.Oct */
pre.code > .sa, code > .sa { color: #444444 } /* Literal.String.Affix */
pre.code > .sb, code > .sb { color: #b83838 } /* Literal.String.Backtick */
pre.code > .sc, code > .sc { color: #a848a8 } /* Literal.String.Char */
pre.code > .dl, code > .dl { color: #b85820 } /* Literal.String.Delimiter */
pre.code > .sd, code > .sd { color: #b85820; font-style: italic } /* Literal.String.Doc */
pre.code > .s2, code > .s2 { color: #b83838 } /* Literal.String.Double */
pre.code > .se, code > .se { color: #709030 } /* Literal.String.Escape */
pre.code > .sh, code > .sh { color: #b83838 } /* Literal.String.Heredoc */
pre.code > .si, code > .si { color: #b83838 } /* Literal.String.Interpol */
pre.code > .sx, code > .sx { color: #a848a8 } /* Literal.String.Other */
pre.code > .sr, code > .sr { color: #a848a8 } /* Literal.String.Regex */
pre.code > .s1, code > .s1 { color: #b83838 } /* Literal.String.Single */
pre.code > .ss, code > .ss { color: #b83838 } /* Literal.String.Symbol */
pre.code > .bp, code > .bp { color: #388038; font-style: italic } /* Name.Builtin.Pseudo */
pre.code > .fm, code > .fm { color: #b85820 } /* Name.Function.Magic */
pre.code > .vc, code > .vc { color: #b04040 } /* Name.Variable.Class */
pre.code > .vg, code > .vg { color: #908828 } /* Name.Variable.Global */
pre.code > .vi, code > .vi { color: #b04040 } /* Name.Variable.Instance */
pre.code > .vm, code > .vm { color: #b85820 } /* Name.Variable.Magic */
pre.code > .il, code > .il { color: #444444 } /* Literal.Number.Integer.Long */

</style>
<style type="text/css">

/* [01/a01.txt:12ff] */
pre.literal-block, pre.doctest-block, pre.math, pre.code {
    overflow: auto;
}

/* [05/a01.txt] */
pre.literal-block, pre.doctest-block, pre.math, pre.code {
    max-height: 45em;
    /* overflow-wrap: normal; */
    /* word-wrap: normal; */
    /* vgl. geradeungerade/2015-12-05/a01.txt:179,:221 */
}

/* [08/a01.txt] */
/* commented out 2016-07-10_1656; use the local stylesheet '{ablogger,
   friedrich}-local.css' instead.
div.document img {
    border: 1px solid black;
}
*/

div.document {
    text-align: justify;
    padding-left: 2em;
    padding-right: 2em;
}
/* Many rules have been deprecated by this ``div.document`` rule.  They
 * have been removed.  Documentation of this can be found in
 * [Dokumente/Projekte/2016/Journal/Wartung/2016-08-15_1802/]. */

.red {
    color: red;
}

/*
 * Mostly written 8 April 2020 as part of the One site:
 */

/* Navbar */

div.flexnavbar {
    display: flex;
    justify-content: space-between;
    background-color: #eee;
}
div.flexnavbar > p {
    margin-top: 0px;
    margin-bottom: 0px;
    text-align: left;
}

div.flexnavbar-left {
    background-color: #eee;
    text-align: left;
}

/* Footer */

div.flexfooter {
    display: flex;
    justify-content: space-between;
}
div.flexfooter > p {
    margin-top: 0px;
    margin-bottom: 0px;
    text-align: left;
}

/*
 * Written 10 April 2020 [Dokumente//CSS/2020-04-10_1517/]:
 */

table.text {
    border-collapse: collapse;
}
table.text > tbody > tr > td, table.text > thead > tr > th {
    border: 1px solid #aaa;
}

/*
 * Written 9 September 2020 [Dokumente//CSS/2020-09-05_1841/]:
 */

.deprecationwarning {
    color: #c00;
}

</style>
<style type="text/css">

/* empty by intention.  Used as a fallback when the truly '.'-local
 * 'friedrich-local.css' is not found.  (That file is referenced from
 * '~/.docutils') */

</style>
</head>
<body>
<div class="document" id="hunting-down-a-bug-related-to-imagetk-in-python-on-cygwin">
<h1 class="title">Hunting Down a Bug related to ImageTk in Python on Cygwin</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>Friedrich Romstedt</td></tr>
<tr><th class="docinfo-name">Date:</th>
<td>August 2021, last revised in October 2021</td></tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id3">Summary</a></li>
<li><a class="reference internal" href="#description-of-the-bug-and-of-the-expected-behaviour" id="id4">Description of the Bug and of the Expected Behaviour</a></li>
<li><a class="reference internal" href="#versions-involved" id="id5">Versions Involved</a></li>
<li><a class="reference internal" href="#attempts-to-remedy-the-defect" id="id6">Attempts to Remedy the Defect</a><ul>
<li><a class="reference internal" href="#upgrading-downgrading-pillow" id="id7">Upgrading/Downgrading Pillow</a></li>
<li><a class="reference internal" href="#upgrading-freetype2-and-harfbuzz" id="id8">Upgrading <tt class="docutils literal">freetype2</tt> and <tt class="docutils literal">harfbuzz</tt></a></li>
<li><a class="reference internal" href="#downgrading-freetype2-and-harfbuzz" id="id9">Downgrading <tt class="docutils literal">freetype2</tt> and <tt class="docutils literal">harfbuzz</tt></a></li>
<li><a class="reference internal" href="#building-pillow-without-freetype2-and-harfbuzz" id="id10">Building <tt class="docutils literal">Pillow</tt> <em>without</em> <tt class="docutils literal">freetype2</tt> and <tt class="docutils literal">harfbuzz</tt></a></li>
</ul>
</li>
<li><a class="reference internal" href="#diagnosing-the-problem-with-pillow-upstream" id="id11">Diagnosing the Problem with Pillow Upstream</a><ul>
<li><a class="reference internal" href="#issue-5795-on-the-pillow-github-com-repository" id="id12">Issue #5795 on the Pillow github.com Repository</a><ul>
<li><a class="reference internal" href="#diagnostic-information-26-october-2021" id="id13">Diagnostic Information (26 October 2021)</a></li>
<li><a class="reference internal" href="#proposal-of-a-fix-from-upstream" id="id14">Proposal of a Fix from Upstream</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="summary">
<h1><a class="toc-backref" href="#id3">Summary</a></h1>
<p><a class="reference external" href="https://github.com/python-pillow/Pillow">Pillow</a> is a library to work
with raster images in Python.
It provides a package <a class="reference external" href="https://pillow.readthedocs.io/en/stable/reference/ImageTk.html">PIL.ImageTk</a>, used to
create <tt class="docutils literal">tkinter</tt> compatible image objects.  These objects can be used to
display <tt class="docutils literal">PIL</tt> images in a tkinter GUI.
However, when attempting to use <tt class="docutils literal">PIL.ImageTk</tt> with Cygwin in October 2021
(on Windows 10), one is presented with a traceback instead.
This article describes the observed behaviour and some attempts to remedy
the defect.
None of these attempts led to success.  They also did not reveal any hint
on where the reason of the dysfunction might originate from.
It is still not clear whether the error can be repoduced on other machines.
This repository provides a self-contained Python script intended to
reproduce the exception.  The repository is maintained separate from any
upstream tracker until the piece of software triggering the failure is
identified.</p>
</div>
<div class="section" id="description-of-the-bug-and-of-the-expected-behaviour">
<h1><a class="toc-backref" href="#id4">Description of the Bug and of the Expected Behaviour</a></h1>
<p>The bug turns up when trying to display a PIL/Pillow Image in a
<tt class="docutils literal">tkinter.Canvas</tt> using <tt class="docutils literal">PIL.ImageTk</tt> in Cygwin:</p>
<pre class="code python literal-block">
<span class="c1"># Developed since: August 2021</span>

<span class="kn">import</span> <span class="nn">tkinter</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageTk</span>


<span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">'RGB'</span><span class="p">,</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="n">tk</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="n">canvas</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="n">tk</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

<span class="n">photoimage</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
<span class="n">canvas</span><span class="o">.</span><span class="n">create_image</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="n">image</span><span class="o">=</span><span class="n">photoimage</span><span class="p">,</span>
    <span class="n">anchor</span><span class="o">=</span><span class="s1">'nw'</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">tk</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</pre>
<p>The expected result on-screen is (produced with Windows Python 3.8):</p>
<div class="figure">
<img alt="Expected.png" src="Expected.png" />
<p class="caption">The expected on-screen result of running the reproduction script.</p>
</div>
<p>When running the script with Cygwin-Python 3.8 however the following
traceback is produced instead:</p>
<pre class="code python literal-block">
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;/usr/lib/python3.8/site-packages/PIL/ImageTk.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">176</span><span class="p">,</span> <span class="ow">in</span> <span class="n">paste</span>
    <span class="n">tk</span><span class="o">.</span><span class="n">call</span><span class="p">(</span><span class="s2">&quot;PyImagingPhoto&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__photo</span><span class="p">,</span> <span class="n">block</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
<span class="n">_tkinter</span><span class="o">.</span><span class="n">TclError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">command</span> <span class="n">name</span> <span class="s2">&quot;PyImagingPhoto&quot;</span>

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;reproduce.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">13</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">photoimage</span> <span class="o">=</span> <span class="n">ImageTk</span><span class="o">.</span><span class="n">PhotoImage</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/usr/lib/python3.8/site-packages/PIL/ImageTk.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">115</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__init__</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">paste</span><span class="p">(</span><span class="n">image</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/usr/lib/python3.8/site-packages/PIL/ImageTk.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">180</span><span class="p">,</span> <span class="ow">in</span> <span class="n">paste</span>
    <span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">_imagingtk</span>
<span class="ne">RuntimeError</span><span class="p">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">process</span>
</pre>
</div>
<div class="section" id="versions-involved">
<h1><a class="toc-backref" href="#id5">Versions Involved</a></h1>
<p>The current versions in the Cygwin package manager are:</p>
<blockquote>
<tt class="docutils literal"><span class="pre">Pillow-8.1.2</span></tt>: <tt class="docutils literal"><span class="pre">python38-imaging-8.1.2-1</span></tt> +
<tt class="docutils literal"><span class="pre">python38-imaging-tk-8.1.2-1</span></tt>.</blockquote>
<p>Also available via the Cygwin package manager:</p>
<blockquote>
<tt class="docutils literal"><span class="pre">Pillow-7.2.0</span></tt>: <tt class="docutils literal"><span class="pre">python38-imaging-7.2.0-1</span></tt> +
<tt class="docutils literal"><span class="pre">python38-imaging-tk-7.2.0-1</span></tt>.</blockquote>
<p>To be able to compile Pillow in other versions, the following <tt class="docutils literal"><span class="pre">-devel</span></tt>
libraries have been made available (based on recommendations given in
<a class="reference external" href="https://github.com/python-pillow/Pillow/issues/2860">https://github.com/python-pillow/Pillow/issues/2860</a>):</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">gcc-core-10.2.0-1</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">libjpeg-devel-2.1.0-1</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">zlib-devel-1.2.11-1</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">libtiff-devel-4.3.0-1</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">libfreetype-devel-2.10.4-2</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">libfribidi-devel-0.19.7-1</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">libharfbuzz-devel-2.8.1-1</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">libimagequant-devel-2.10.0-1</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">libpng-devel-1.6.37.1</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">liraqm-devel-0.7.0-1</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">python38-devel-3.8.10-1</span></tt>.</li>
</ol>
<p>Furthermore I installed:</p>
<ol class="arabic simple">
<li><tt class="docutils literal"><span class="pre">tcl-devel-8.6.11-1</span></tt>;</li>
<li><tt class="docutils literal"><span class="pre">tcl-tk-devel-8.6.11-1</span></tt>.</li>
</ol>
<p>in support of <tt class="docutils literal"><span class="pre">tcl-8.6.11-1</span></tt> and <tt class="docutils literal"><span class="pre">tcl-tk-8.6.11-1</span></tt>.</p>
<p>Other versions of <tt class="docutils literal">Pillow</tt> which have been tried instead of the <tt class="docutils literal">8.1.2</tt>
version are:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Pillow-8.3.1</span></tt> (installed from source);</li>
<li><tt class="docutils literal"><span class="pre">Pillow-7.2.0</span></tt> (installed per Cygwin as <tt class="docutils literal"><span class="pre">python38-imaging-7.2.0-1</span></tt>
+ <tt class="docutils literal"><span class="pre">python38-imaging-tk-7.2.0-1</span></tt>);</li>
<li><tt class="docutils literal"><span class="pre">Pillow-6.2.2</span></tt> (installed from source);</li>
<li><tt class="docutils literal"><span class="pre">Pillow-5.4.1</span></tt> (installed from source).</li>
</ul>
<p>Other versions of Tcl/Tk which have been given a try are:</p>
<ul class="simple">
<li><tt class="docutils literal">tcl</tt>, <tt class="docutils literal"><span class="pre">tcl-devel</span></tt>, <tt class="docutils literal"><span class="pre">tcl-tk</span></tt> and <tt class="docutils literal"><span class="pre">tcl-tk-devel</span></tt>, all in version
<tt class="docutils literal"><span class="pre">8.6.8-1</span></tt> (via the Cygwin package manager).</li>
</ul>
</div>
<div class="section" id="attempts-to-remedy-the-defect">
<h1><a class="toc-backref" href="#id6">Attempts to Remedy the Defect</a></h1>
<div class="section" id="upgrading-downgrading-pillow">
<h2><a class="toc-backref" href="#id7">Upgrading/Downgrading Pillow</a></h2>
<p>All this has been worked through in a virtualenv created by:</p>
<pre class="literal-block">
$ python -m virtualenv --system-site-packages &lt;dir&gt;
</pre>
<p>The abovementioned reproduction script fails outside of this virtualenv as
well.</p>
<p>In the beginning, I assumed that Cygwin doesn't provide Pillow as a
package, before I realised that it is contained under the name
<tt class="docutils literal"><span class="pre">pythonXY-imaging</span></tt> and <tt class="docutils literal"><span class="pre">pythonXY-imaging-tk</span></tt>, while only
<tt class="docutils literal"><span class="pre">python38-imaging</span></tt> was installed.</p>
<p>After after having installed the supporting <tt class="docutils literal"><span class="pre">-devel</span></tt> packages for
<tt class="docutils literal">libjpeg</tt>, <tt class="docutils literal">zlib</tt>, <tt class="docutils literal">libtiff</tt>, <tt class="docutils literal">libfreetype</tt>, <tt class="docutils literal">libfribidi</tt>,
<tt class="docutils literal">libharfbuzz</tt>, <tt class="docutils literal">libimagequant</tt>, <tt class="docutils literal">libpng</tt>, <tt class="docutils literal">libraqm</tt>, <tt class="docutils literal">tcl</tt>,
<tt class="docutils literal"><span class="pre">tcl-tk</span></tt> and <tt class="docutils literal">python38</tt>, I installed Pillow inside of the virtualenv
using:</p>
<pre class="literal-block">
$ pip install --upgrade Pillow
</pre>
<p>This installed Pillow v8.3.1.  From this point on, it was possible to
import <tt class="docutils literal">ImageTk</tt>:</p>
<pre class="literal-block">
&gt;&gt;&gt; form PIL import Image
&gt;&gt;&gt; Image.__version__
'8.3.1'
&gt;&gt;&gt; from PIL import ImageTk
(ok)
</pre>
<p>However attempting to actually <em>use</em> <tt class="docutils literal">ImageTk</tt> failed with the
abovementioned traceback.</p>
<p>At this point, I realised that there are Cygwin packages called
<tt class="docutils literal"><span class="pre">python38-imaging</span></tt> and <tt class="docutils literal"><span class="pre">python38-imaging-tk</span></tt>, so I uninstalled Pillow
in the virtualenv:</p>
<pre class="literal-block">
$ pip uninstall Pillow
</pre>
<p>and installed <tt class="docutils literal"><span class="pre">python38-imaging-tk</span></tt> via the Cygwin package installer.
This incured no more dependencies, however the traceback remained present.</p>
<p>The Cygwin package manager offers aside of <tt class="docutils literal"><span class="pre">python38-{imaging,</span>
<span class="pre">imaging-tk}-8.1.2-1</span></tt> also <tt class="docutils literal"><span class="pre">7.2.0-1</span></tt> version of these packages.  I tried
these, to no avail.</p>
<p>Next, I tried the latest version of the 6.x series of Pillow
(<a class="reference external" href="https://pillow.readthedocs.io/en/stable/releasenotes/index.html">https://pillow.readthedocs.io/en/stable/releasenotes/index.html</a>):</p>
<pre class="literal-block">
$ pip install Pillow==6.2.2
&gt; (ok)
</pre>
<p>where the traceback persists.  Furthermore I tried Pillow-5.4.1 (the latest
5.x version):</p>
<pre class="literal-block">
$ pip install Pillow==5.4.1
&gt; matplotlib 3.3.3 requires pillow&gt;=6.2.0, but you have pillow 5.4.1 which is incompatible.
&gt; (otherwise ok)
</pre>
<p>which was still dysfunctional.</p>
<p>At this moment, I suspected that the reason of the error observed might be
outside of Pillow, so I uninstalled the custom-made Pillow from the
virtualenv:</p>
<pre class="literal-block">
$ pip uninstall Pillow
</pre>
<p>and upgraded the Cygwin-installed Pillow version back to <tt class="docutils literal"><span class="pre">8.1.2-1</span></tt>,
intending to change tcl/tk library versions.</p>
<p>The Cygwin package manager offers <tt class="docutils literal">tcl</tt>, <tt class="docutils literal"><span class="pre">tcl-devel</span></tt>, <tt class="docutils literal"><span class="pre">tck-tk</span></tt> and
<tt class="docutils literal"><span class="pre">tcl-tk-devel</span></tt> in versions <tt class="docutils literal"><span class="pre">8.6.11-1</span></tt> and <tt class="docutils literal"><span class="pre">8.6.8-1</span></tt>.  I hence
downgraded from <tt class="docutils literal"><span class="pre">8.6.11-1</span></tt> to <tt class="docutils literal"><span class="pre">8.6.8-1</span></tt>, however once more to no avail.</p>
<p>Having reached the end of my wits at this point, I found myself writing up
this summary document to turn towards upstream.</p>
<p><strong>--- 21 October 2021 ---</strong></p>
</div>
<div class="section" id="upgrading-freetype2-and-harfbuzz">
<h2><a class="toc-backref" href="#id8">Upgrading <tt class="docutils literal">freetype2</tt> and <tt class="docutils literal">harfbuzz</tt></a></h2>
<p><em>Note</em>:</p>
<blockquote>
<p>From here on, logs are written in the <tt class="docutils literal">/Logs/</tt> directory of the
repo this files resides in.  They are referenced before the command
which is logged, e.g.:</p>
<pre class="literal-block">
[b01] $ pip install --upgrade Pillow
</pre>
<p>is logged in the file within <tt class="docutils literal">/Logs/</tt> starting with <tt class="docutils literal">b01</tt>.</p>
</blockquote>
<p>Upgraded <tt class="docutils literal">libfreetype2</tt> and <tt class="docutils literal"><span class="pre">libfreetype-devel</span></tt> from <tt class="docutils literal"><span class="pre">2.11.0-1</span></tt> to
<tt class="docutils literal"><span class="pre">2.11.0-2</span></tt> (released 19 October 2021).</p>
<p>Upgraded also <tt class="docutils literal"><span class="pre">girepository-Harfbuzz0.0</span></tt>, <tt class="docutils literal"><span class="pre">libharfbuzz-devel</span></tt>,
<tt class="docutils literal"><span class="pre">libharfbuzz-gobject0</span></tt> and <tt class="docutils literal">libharfbuzz0</tt> from <tt class="docutils literal"><span class="pre">2.9.0-1</span></tt> to
<tt class="docutils literal"><span class="pre">2.9.0-2</span></tt> (released 19 October 2021 as well).</p>
<p>All this has been to no avail.</p>
</div>
<div class="section" id="downgrading-freetype2-and-harfbuzz">
<h2><a class="toc-backref" href="#id9">Downgrading <tt class="docutils literal">freetype2</tt> and <tt class="docutils literal">harfbuzz</tt></a></h2>
<p>The Cygwin installer permits downgrading the <tt class="docutils literal">freetype2</tt> packages to
<tt class="docutils literal"><span class="pre">2.10.4-2</span></tt> and the <tt class="docutils literal">harfbuzz</tt> packages to <tt class="docutils literal"><span class="pre">2.8.1-1</span></tt>.</p>
<p>This did not help either, the problem persisted in its familiar form.</p>
<p>Reverted the downgrades.</p>
</div>
<div class="section" id="building-pillow-without-freetype2-and-harfbuzz">
<h2><a class="toc-backref" href="#id10">Building <tt class="docutils literal">Pillow</tt> <em>without</em> <tt class="docutils literal">freetype2</tt> and <tt class="docutils literal">harfbuzz</tt></a></h2>
<p>Removed <tt class="docutils literal"><span class="pre">libfreetype-devel</span></tt>, <tt class="docutils literal"><span class="pre">libharfbuzz-devel</span></tt> and <tt class="docutils literal"><span class="pre">libraqm-devel</span></tt>
(<tt class="docutils literal">libraqm</tt> <em>requires</em> <tt class="docutils literal"><span class="pre">libfreetype-devel</span></tt>).</p>
<p>Derived a virtualenv per:</p>
<pre class="literal-block">
$ python -m virtualenv --system-site-packages --no-periodic-update 2021-10-21_0918
</pre>
<p>Built in this virtualenv <tt class="docutils literal">Pillow</tt> per:</p>
<pre class="literal-block">
[b01] $ pip install --upgrade Pillow
&gt; (Pillow 8.1.2 in /usr/lib/python3.8/site-packages/ remains untouched)
&gt; (otherwise ok)
</pre>
<p>Verified that in this virtualenv the new <tt class="docutils literal"><span class="pre">Pillow-8.4.0</span></tt> is used:</p>
<pre class="literal-block">
$ python
&gt;&gt;&gt; import PIL
&gt;&gt;&gt; PIL.__version__
'8.4.0'
(ok)
</pre>
<p>Ran via this virtualenv the file <tt class="docutils literal">/reproduce.py</tt>:</p>
<pre class="literal-block">
[b02] $ python reproduce.py
(same error as before)
</pre>
<p>Restarted the machine, activated the virtualenv and ran the script again:
The error has been reproduced.</p>
<p>Reinstalled <tt class="docutils literal"><span class="pre">libfreetype-devel-2.11.0-2</span></tt>, <tt class="docutils literal"><span class="pre">libharfbuzz-devel-2.9.0-2</span></tt>
and <tt class="docutils literal"><span class="pre">libraqm-devel-0.7.0-1</span></tt>.</p>
<p><strong>--- 26 October 2021 ---</strong></p>
</div>
</div>
<div class="section" id="diagnosing-the-problem-with-pillow-upstream">
<h1><a class="toc-backref" href="#id11">Diagnosing the Problem with Pillow Upstream</a></h1>
<div class="section" id="issue-5795-on-the-pillow-github-com-repository">
<h2><a class="toc-backref" href="#id12">Issue #5795 on the Pillow github.com Repository</a></h2>
<p>I filed an Issue with <a class="reference external" href="https://github.com/python-pillow/Pillow">Pillow</a>
to gather additional information (<a class="reference external" href="https://github.com/python-pillow/Pillow/issues/5795">#5795</a>).</p>
<div class="section" id="diagnostic-information-26-october-2021">
<h3><a class="toc-backref" href="#id13">Diagnostic Information (26 October 2021)</a></h3>
<p>Diagnostic output as requested in a <a class="reference external" href="https://github.com/python-pillow/Pillow/issues/5795#issuecomment-951001258">Comment by DWesl on 25 October 16:43</a>:</p>
<ul class="simple">
<li>The output of <tt class="docutils literal">cygcheck <span class="pre">-svr</span></tt> is provided in file
<a class="reference external" href="Logs/c01%20cygcheck%20-svr.txt">[c01]</a>.</li>
<li>Running <tt class="docutils literal">python <span class="pre">[-v[v]]</span> <span class="pre">-c</span> 'import PIL._imagingtk'</tt> produces the
following output:<ol class="arabic">
<li><tt class="docutils literal">python <span class="pre">-c</span> 'import PIL._imagingtk'</tt>: <a class="reference external" href="Logs/d01%20python%20-c%20import%20PIL._imagingtk.txt">[d01]</a></li>
<li><tt class="docutils literal">python <span class="pre">-v</span> <span class="pre">-c</span> 'import PIL._imagingtk'</tt>: <a class="reference external" href="Logs/d02%20python%20-v%20-c%20import%20PIL._imagingtk.txt">[d02]</a></li>
<li><tt class="docutils literal">python <span class="pre">-vv</span> <span class="pre">-c</span> 'import PIL._imagingtk'</tt>: <a class="reference external" href="Logs/d03%20python%20-vv%20-c%20import%20PIL._imagingtk.txt">[d03]</a></li>
</ol>
</li>
<li>Checking the extension DLLs:<ol class="arabic">
<li>Running <tt class="docutils literal">cygcheck</tt>:<ol class="loweralpha">
<li>on <tt class="docutils literal"><span class="pre">_imagingtk.cpython-38-x86_64-cygwin.dll</span></tt>: <a class="reference external" href="Logs/e01%20cygcheck%20.__imagingtk.cpython-38-x86_64-cygwin.dll.txt">[e01]</a></li>
<li>on all <tt class="docutils literal">.dll</tt> files: <a class="reference external" href="Logs/e02%20cygcheck%20.__.dll.txt">[e02]</a></li>
</ol>
</li>
<li>Checking executability: <a class="reference external" href="Logs/e03%20ls%20-l%20_.dll.txt">[e03]</a></li>
<li>Running <tt class="docutils literal">ldd</tt>:<ol class="loweralpha">
<li>on <tt class="docutils literal"><span class="pre">_imagingtk.cpython-38-x86_64-cygwin.dll</span></tt>: <a class="reference external" href="Logs/e04%20ldd%20_imagingtk.cpython-38-x86_64-cygwin.dll.txt">[e04]</a></li>
<li>on all <tt class="docutils literal">.dll</tt> files: <a class="reference external" href="Logs/e05%20ldd%20_.dll.txt">[e05]</a></li>
</ol>
</li>
</ol>
</li>
</ul>
<p><strong>--- 4 November 2021 ---</strong></p>
</div>
<div class="section" id="proposal-of-a-fix-from-upstream">
<h3><a class="toc-backref" href="#id14">Proposal of a Fix from Upstream</a></h3>
<p><a class="reference external" href="https://github.com/DWesl">DWesl</a> mentioned in <a class="reference external" href="https://github.com/python-pillow/Pillow/issues/5795#issuecomment-959748416">a comment</a>
on <a class="reference external" href="https://github.com/python-pillow/Pillow/issues/5795">Pillow Issue #5795</a> Pull Request
<a class="reference external" href="https://github.com/python-pillow/Pillow/pull/5807">#5807</a> to Pillow
Upstream.  Compiling <a class="reference external" href="https://github.com/DWesl/Pillow/tree/tkimaging-on-cygwin">the Pillow version referenced therein</a> <em>solves the
problem</em>.</p>
<p>I used a virtualenv to diagnose this success.  By mistake in ran <tt class="docutils literal">$ pip
install <span class="pre">-U</span> Pillow</tt> <em>in the checked-out repository root</em>, which I made
undone by <tt class="docutils literal">$ pip uninstall Pillow</tt>.  After this I used the proper command
<tt class="docutils literal">$ make install</tt> in the same filesystem location (<a class="reference external" href="Logs2/b01%20make%20install.txt">[Logs2/b01]</a>).  I verified that the Pillow version
containing the fix was made available:</p>
<pre class="literal-block">
$ python
&gt;&gt;&gt; import PIL
&gt;&gt;&gt; PIL.__version__
'9.0.0.dev0'
</pre>
<p>The reproduction script contained as <a class="reference external" href="reproduce.py">reproduce.py</a> in
this README file's repository now <em>executes flawlessly</em>.</p>
<p>The following Cygwin dependency packages have been used:</p>
<ul class="simple">
<li><tt class="docutils literal">libjpeg</tt>: <tt class="docutils literal"><span class="pre">libjpeg8-2.1.1p3-1</span></tt> + <tt class="docutils literal"><span class="pre">libjpeg-devel-2.1.1p3-1</span></tt>;</li>
<li><tt class="docutils literal">zlib</tt>: <tt class="docutils literal"><span class="pre">zlib0-1.2.11-1</span></tt> + <tt class="docutils literal"><span class="pre">zlib-devel-1.2.11-1</span></tt>;</li>
<li><tt class="docutils literal">libtiff</tt>: <tt class="docutils literal"><span class="pre">libtiff6-4.3.0-1</span></tt> + <tt class="docutils literal"><span class="pre">libtiff-devel-4.3.0-1</span></tt>;</li>
<li><tt class="docutils literal">libfreetype</tt>: <tt class="docutils literal"><span class="pre">libfreetype6-2.11.0-2</span></tt> +
<tt class="docutils literal"><span class="pre">libfreetype-devel-2.11.0-2</span></tt>;</li>
<li><tt class="docutils literal">libwebp</tt>: <tt class="docutils literal"><span class="pre">libwebp7-0.6.1-2</span></tt> + <tt class="docutils literal"><span class="pre">libwebp-devel-0.6.1-2</span></tt>;</li>
<li><tt class="docutils literal">tcl/tk</tt>: <tt class="docutils literal"><span class="pre">tcl-8.6.11-1</span></tt> + <tt class="docutils literal"><span class="pre">tcl-devel-8.6.11-1</span></tt> + <tt class="docutils literal"><span class="pre">tcl-tk-8.6.11-1</span></tt>
+ <tt class="docutils literal"><span class="pre">tcl-tk-devel-8.6.11-1</span></tt>;</li>
<li><tt class="docutils literal">libimagequant</tt>: <tt class="docutils literal"><span class="pre">libimagequant0-2.10.0-1</span></tt> +
<tt class="docutils literal"><span class="pre">libimagequant-devel-2.10.0-1</span></tt>;</li>
<li><tt class="docutils literal">libraqm</tt>: <tt class="docutils literal"><span class="pre">libraqm0-0.7.0-1</span></tt> + <tt class="docutils literal"><span class="pre">libraqm-devel-0.7.0-1</span></tt>;</li>
<li><tt class="docutils literal">libxcb</tt>: <tt class="docutils literal"><span class="pre">libxcb1-1.14-1</span></tt> + <tt class="docutils literal"><span class="pre">libxcb-devel-1.14-1</span></tt>.</li>
</ul>
<p>The following dependencies have <em>not</em> been met:</p>
<ul class="simple">
<li><tt class="docutils literal">littlecms</tt>: I couldn't find an appropriate Cygwin package.</li>
<li><tt class="docutils literal">openjpeg</tt>: There is <tt class="docutils literal"><span class="pre">openjpeg-1.5.2-3</span></tt> +
<tt class="docutils literal"><span class="pre">openjpeg-devel-1.5.2-3</span></tt> available, but
<a class="reference external" href="https://pillow.readthedocs.io/en/stable/installation.html#building-from-source">https://pillow.readthedocs.io/en/stable/installation.html#building-from-source</a>
states: <em>Pillow does not support the earlier 1.5 series which ships
with Debian Jessie.</em> And: <em>Pillow has been tested with openjpeg 2.0.0,
2.1.0, 2.3.1 and 2.4.0</em>.  There is another package <tt class="docutils literal">openjpeg2</tt>, but
this seems to not have an accompanying <tt class="docutils literal"><span class="pre">-devel</span></tt> package, so I skipped
JPEG2000 support.</li>
</ul>
<p>Installing these packages pulled in a few other dependencies, which are
skipped here.</p>
<p>The selftest passes with these packages (see the bottom end of <a class="reference external" href="Logs2/b01%20make%20install.txt">[Logs2/b01]</a>).</p>
<p><strong>--- 5 November 2021 ---</strong></p>
<p>DWesl's branch was compiled by <tt class="docutils literal">$ make install</tt>, while all other previous
attempts used <tt class="docutils literal">$ pip install <span class="pre">-U</span> Pillow</tt> and related commands.  Thus, I
compiled also the <a class="reference external" href="https://github.com/python-pillow/Pillow">current main branch of Pillow Upstream</a> by <tt class="docutils literal">$ make install</tt>
(<a class="reference external" href="Logs3/a02%20make%20install.txt">[Logs3/a02]</a>) and verified that the
<a class="reference external" href="reproduce.py">reproduction script</a> still fails with it (<a class="reference external" href="Logs3/a03%20python%20reproduce.py.txt">[Logs3/a03]</a>.  <tt class="docutils literal">$ make install</tt> just calls
<tt class="docutils literal">$ python3 setup.py install</tt>; using <tt class="docutils literal">pip</tt> creates a wheel.  By this it
is verified also in this aspect that it are the changes in <a class="reference external" href="https://github.com/DWesl/Pillow/tree/tkimaging-on-cygwin">DWesl's
repository</a>
which make the <a class="reference external" href="reproduce.py">reproduction script</a> succeed.</p>
</div>
</div>
</div>
</div>
</body>
</html>
